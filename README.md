# 工作空间说明
该 tutorial_ws 为一个ROS工作空间，主要用于整理我在竞赛与项目中实用技巧和实战经验。该工作空间包含了多个包，每个包对应一个实用技巧的教程


# 结构说明

```
tutorial_ws/
├── src/                
│   ├── rqt_tutorials/            # rqt 动态调参教程包
│   └── git_in_competition/       # Git 在竞速等比赛中的应用教程包
    |---- edit_map/                # 编辑 .pgm 导航栅格地图
├── CMakeLists.txt      
└── package.xml    
```

# 包说明

## `rqt_tutorials`
本功能包通过一个具体的示例，演示了如何利用 `rqt_reconfigure` 工具，在ROS节点运行时动态调整参数，这是提升算法调试效率的关键技巧之一。

**1. 实战背景**

在调试算法时，我们经常遇到的一个痛点是：**每次修改参数，都必须手动停止并重启节点，这个过程非常耗时且容易打断调试思路。**

以我在“2025年RAICOM ROS虚实仿真赛(轮式组)” 中的经历为例，在调试FTG（Follow The Gap）避障算法时，需要频繁调整如“前瞻距离”、“目标速度”等关键参数。如果采用传统方式，调试效率会极其低下。`rqt_reconfigure` 工具则完美地解决了这个问题。


**2. 核心优势**

*   **实时调参，无需重启**：这是其最大优势。参数的修改会即时生效
*   **直观的图形化界面**：将代码中的参数变量，以滑块、输入框、复选框等形式展示出来，操作直观，避免了在代码文件中来回翻找。
*   **参数的保存与加载**：当你调试到一组“完美”的参数时，可以一键将其保存为 `.yaml` 文件。这不仅省去了手动记录的麻烦，也方便了后续的参数固化和结果复现。



## `git_in_competition`
该功能包以实际竞赛场景为背景，讲解如何巧妙地利用 Git 进行版本控制，为算法调试过程建立“存档点”，确保在参数调优、模型迭代等过程中既能高效推进，又具备充分的安全性和可回滚能力。

**1. 实战背景**

在机器人竞速或积分类比赛中，特别是在算法性能调试阶段（如速度调节、精度优化等），我们经常面临以下困境：
* 当前版本表现良好（例如测试得分为 60 分），但我们希望继续优化；
* 一旦动手修改，可能会引发性能下降、系统崩溃，甚至无法回溯到原来的“高分版本”；
* 手动备份多个文件夹（如 `7-1-test0/`、`7-1-test1/`、`7-2-test0/`）杂乱无章，缺乏可维护性、可追踪性以及可读性。

以我在 2025 年 RAICOM ROS 虚实仿真赛（轮式组） 中的实战经验为例，在最终调试阶段，我们需要反复调整 FTG 和 TEB 的大量参数。传统方式需要不断复制项目文件夹、创建如 7-1-test0、7-2-test1 之类的目录，并手动备注每个版本的区别。这不仅使项目结构混乱，而且极易混淆版本，调试效率低下。

通过引入 Git，我们可以为每一个关键调试阶段建立清晰可靠的“存档点”，从而实现版本的安全管理、调试过程的追踪记录，以及快速的版本回滚。



**2. 核心优势**

本教程倡导的 Git 工作流，旨在解决以上痛点，其核心优势在于：

*   **随时建立“存档点”，无惧试错**：
每次阶段性成果（如“避障通过率达 80%”、“首次无碰撞完成赛道”）都可以通过 git commit 记录为稳定版本。无论之后的修改是否失败，都可以随时通过 git reset 等命令回到上一个已验证的状态，从容应对失败尝试，放心推进参数探索与算法优化。

*   **分支管理清晰，开发与部署互不干扰**
    采用双分支模式，区分调试开发与正式比赛部署：
    *   **`dev` 分支**：用于日常开发与测试，频繁提交、灵活试错。
    *   **`main` 分支**：仅保留最终通过验证、准备参赛的稳定版本。


*   **过程复盘与团队协作**
    ：通过 git log，你可以完整回顾每一次优化的过程、改动的原因以及对应的性能提升。这不仅是对个人工作的系统总结，在团队项目中也便于他人快速理解项目进展，提升协作效率。



## `edit_map`

该功能包演示了如何利用在线轻量化图像编辑工具（如 Photopea），对 ROS 导航使用的二维 `.pgm` 栅格地图进行手动修改，满足比赛与项目中对地图精度与导航表现的实际需求。

### **1. 实战背景**

在比赛或项目中，导航使用的栅格地图精度至关重要。然而由于 **IMU 漂移、里程计误差、地面打滑等问题**，通过 GMapping 或 Hector 生成的地图常常存在偏差，比如墙体扭曲、轮廓变形、整体倾斜等，导致后续导航效果不稳定、路径规划不合理。

以我在 **2025 年全国大学生智能汽车竞赛 · 讯飞创意组** 的经历为例，初期建图阶段受限于 AMCL 定位误差和 IMU 精度不佳，生成的地图存在明显畸变，严重影响了导航任务的表现。最终，我们选择通过手动方式对地图进行修正，使地图更贴合实际场景，从而大幅提升了导航的稳定性与成功率。`edit_map` 功能包正是对此过程的完整演示与方法总结。

### **2. 核心优势**

* **无需专业图像软件，在线即可修改**：利用如 Photopea 在线图像编辑工具，无需安装 Photoshop，即可对 `.pgm` 地图进行像素级别调整，方便快捷。

* **修正地图误差，优化导航表现**：可手动调整偏移的墙体线条、擦除异常区域、补全缺失区域，有效提升地图质量，从根源上改善路径规划与定位效果。

* **适配 ROS 地图格式，操作规范**：教程中详细说明了 `.pgm` 图像与 `.yaml` 配置文件的关系与修改注意事项，避免因操作不当导致地图不可用。

* **适用于多种建图问题场景**：无论是线条偏斜、边缘缺失还是不规则障碍轮廓，该方法都提供了实用、灵活的修复思路，适合大多数 ROS 项目场景。


